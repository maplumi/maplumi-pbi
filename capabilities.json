{
  "dataRoles": [
    {
      "name": "AdminPCode",
      "kind": "Grouping",
      "displayName": "HDX Admin PCode",
      "description": "HDX CODs Administrative Boundary PCodes for Choropleth Layer. Country and Admin Level must be set in Choropleth Settings under Visual formatting"
    }, 
    {
      "name": "Latitude",
      "kind": "Grouping",
      "displayName": "Latitude",
      "description": "Latitude or Y geographic point dimension"
    },
    {
      "name": "Longitude",
      "kind": "Grouping",
      "displayName": "Longitude",
      "description": "Longitude or X geographic point dimension"
    },
    {
      "name": "Size",
      "kind": "Measure",
      "displayName": "Size",
      "description": "Numeric data type measure to dispay of different circle/bubble sizes"
    },
       
    {
      "name": "Color",
      "kind": "Measure",
      "displayName": "Color",
      "description": "Numeric data type measure to control display of Choropleth or Heatmap colors"
    },
    {
      "name": "Tooltips",
      "kind": "Measure",
      "displayName": "Tooltips",
      "description": "Values to display in tooltips. May be overridden by Tooltips options under General visual settings"
    }
  ],
  "dataViewMappings": [
    {
      "categorical": {
        "categories": {
          "dataReductionAlgorithm": {
            "sample": {
              "count": 30000
            }
          },
          "select": [
            {
              "for": {
                "in": "AdminPCode"
              }
            },
            {
              "for": {
                "in": "Latitude"
              }
            },
            {
              "for": {
                "in": "Longitude"
              }
            }
            
          ]
        },
        "values": {
          "select": [
            {
              "for": {
                "in": "Size"
              }
            },
            {
              "for": {
                "in": "Color"
              }
            },
            {
              "for": {
                "in": "Tooltips"
              }
            }
          ]
        }
      }
    }
  ],
  "objects": {
    "tooltip": {
      "displayName": "Tooltip",
      "properties": {
        "type": {
          "type": {
            "enumeration": [
              {
                "value": "default",
                "displayName": "Default Tooltip"
              },
              {
                "value": "canvas",
                "displayName": "Canvas Tooltip"
              },
              {
                "value": "reportPage",
                "displayName": "Report Page Tooltip"
              }
            ]
          }
        }
      }
    },
    "basemapVisualCardSettings": {
      "properties": {
        "selectedBasemap": {
          "type": {
            "enumeration": [
              {
                "value": "openstreetmap",
                "displayName": "OpenStreetMap"
              },
              {
                "value": "mapbox",
                "displayName": "Mapbox"
              }
            ]
          }
        },
        "mapboxAccessToken": {
          "type": {
            "text": true
          }
        },
        "mapboxBaseUrl": {
          "type": {
            "text": true
          }
        },
        
        "mapboxCustomMapAttribution": {
          "type": {
            "text": true
          }
        },
        "mapboxStyle": {
          "type": {
            "enumeration": [
              {
                "value": "mapbox://styles/mapbox/light-v10?optimize=true",
                "displayName": "Light"
              },
              {
                "value": "mapbox://styles/mapbox/dark-v10?optimize=true",
                "displayName": "Dark"
              },
              {
                "value": "mapbox://styles/mapbox/streets-v11?optimize=true",
                "displayName": "Streets"
              },
              {
                "value": "custom",
                "displayName": "Custom"
              }
            ]
          }
        },
        "declutterLabels": {
          "type": {
            "bool": true 
          }
        }
      }
    },
    "proportionalCirclesVisualCardSettings": {
      "properties": {

        "showLayerControl": {
          "type": {
            "bool": true
          }
        },
        "proportionalCirclesColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "proportionalCirclesMinimumRadius": {
          "type": {
            "numeric": true
          }
        },
        "proportionalCirclesMaximumRadius": {
          "type": {
            "numeric": true
          }
        },
        "proportionalCirclesStrokeColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "proportionalCirclesStrokeWidth": {
          "type": {
            "numeric": true
          }
        },
        "proportionalCirclesLayerOpacity": {
          "type": {
            "numeric": true
          }
        },
        "showLegend": {
          "type": {
            "bool": true
          }
        }
      }
    },
    "choroplethVisualCardSettings": {
      "properties": {
        "showLayerControl": {
          "type": {
            "bool": true
          }
        },
        "selectedISO3Code": {
          "type": {
            "text": true
          }
        },
        "selectedAdminLevel": {
          "type": {
            "enumeration": [
              {
                "value": "1",
                "displayName": "ADM1"
              },
              {
                "value": "2",
                "displayName": "ADM2"
              },
              {
                "value": "3",
                "displayName": "ADM3"
              }
            ]
          }
        },
        "classifyData": {
          "type": {
            "bool": true
          }
        },
        "numClasses": {
          "type": {
            "numeric": true
          }
        },
        "classificationMethod": {
          "type": {
            "enumeration": [
              {
                "value": "q",
                "displayName": "Quantile"
              },
              {
                "value": "e",
                "displayName": "Equal Interval"
              },
              {
                "value": "l",
                "displayName": "Logarithmic"
              },
              {
                "value": "k",
                "displayName": "K-means"
              },
              {
                "value": "j",
                "displayName": "Jenks Natural Breaks"
              }
            ]
          }
        },
        "usePredefinedColorRamp": {
          "type": {
            "bool": true
          }
        },
        "colorRamp":{
          "type": {
            "enumeration": [
              {
                "value": "blue",
                "displayName": "Blue"
              },
              {
                "value": "red",
                "displayName": "Red"
              },
              {
                "value": "green",
                "displayName": "Green"
              },
              {
                "value": "orange",
                "displayName": "Orange"
              },           
              {
                "value": "purple",
                "displayName": "Purple"
              },
              {
                "value": "yellow",
                "displayName": "Yellow"
              },
              {
                "value": "slateGrey",
                "displayName": "Slate Grey"
              },
              {
                "value": "neutralGrey",
                "displayName": "Neutral Grey"
              }
            ]
          }
        },
        "invertColorRamp": {
          "type": {
            "bool": true
          }
        },
        "minColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "midColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "maxColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "strokeColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "strokeWidth": {
          "type": {
            "numeric": true
          }
        },
        "layerOpacity": {
          "type": {
            "numeric": true
          }
        },
        "showLegend": {
          "type": {
            "bool": true
          }
        },
        "legendTitle": {
          "type": {
            "text": true
          }
        }
      }
    }
  },
  "suppressDefaultTitle": false,
  "privileges": [
    {
      "name": "WebAccess",
      "essential": true,
      "parameters": [
        "https://*.openstreetmap.org",
        "https://*.arcgisonline.com",
        "https://*.mapbox.com",
        "https://*.humdata.org",
        "https://*.itos.uga.edu"
      ]
    }
  ]
}