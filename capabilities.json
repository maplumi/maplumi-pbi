{
  "dataRoles": [
    {
      "name": "AdminPCodeNameID",
      "kind": "Grouping",
      "displayName": "Boundary PCode/Name/ID",
      "description": "Boundary PCodes/Name/ID for Choropleth Layer. Same Field from Geojson properties must be set in Choropleth Settings under Visual formatting. For HDX COD-AB specify on county ISO3 & AdminLevel in choropleth settings."
    },
    {
      "name": "Longitude",
      "kind": "Grouping",
      "displayName": "Longitude",
      "description": "Longitude or X geographic point dimension",
      "preferredTypes": [
        {
          "geography": {
            "longitude": true
          }
        }
      ],
      "requiredTypes": [
        {
          "numeric": true
        },
        {
          "integer": true
        },
        {
          "geography": {
            "longitude": true
          }
        }
      ]
    },
    {
      "name": "Latitude",
      "kind": "Grouping",
      "displayName": "Latitude",
      "description": "Latitude or Y geographic point dimension",
      "preferredTypes": [
        {
          "geography": {
            "latitude": true
          }
        }
      ],
      "requiredTypes": [
        {
          "numeric": true
        },
        {
          "integer": true
        },
        {
          "geography": {
            "latitude": true
          }
        }
      ]
    },
    {
      "name": "Size",
      "kind": "Measure",
      "displayName": "Circle Size",
      "description": "Numeric data type measure to dispay of different circle/bubble sizes",
      "requiredTypes": [
        {
          "numeric": true
        },
        {
          "integer": true
        }
      ]
    },
    {
      "name": "Color",
      "kind": "Measure",
      "displayName": "Choropleth Color",
      "description": "Numeric data type measure to control display of Choropleth or Heatmap colors",
      "requiredTypes": [
        {
          "numeric": true
        },
        {
          "integer": true
        }
      ]
    },
    {
      "name": "Tooltips",
      "kind": "Measure",
      "displayName": "Tooltips",
      "description": "Values to display in tooltips. May be overridden by Tooltips options under General visual settings"
    }
  ],
  "dataViewMappings": [
    {
      "conditions": [
        {
          "AdminPCodeNameID": {
            "max": 1
          },
          "Latitude": {
            "max": 1
          },
          "Longitude": {
            "max": 1
          },
          "Size": {
            "max": 2
          },
          "Color": {
            "max": 1
          }
        }
      ],
      "categorical": {
        "categories": {
          "dataReductionAlgorithm": {
            "sample": {
              "count": 30000
            }
          },
          "select": [
            {
              "for": {
                "in": "AdminPCodeNameID"
              }
            },
            {
              "for": {
                "in": "Latitude"
              }
            },
            {
              "for": {
                "in": "Longitude"
              }
            }
          ]
        },
        "values": {
          "select": [
            {
              "for": {
                "in": "Size"
              }
            },
            {
              "for": {
                "in": "Color"
              }
            },
            {
              "for": {
                "in": "Tooltips"
              }
            }
          ]
        }
      }
    }
  ],
  "supportsHighlight": true,
  "supportsMultiVisualSelection": true,
  "objects": {
    "basemapVisualCardSettings": {
      "properties": {
        "selectedBasemap": {
          "type": {
            "enumeration": []
          }
        },
        "customMapAttribution": {
          "type": {
            "text": true
          }
        },
        "mapboxAccessToken": {
          "type": {
            "text": true
          }
        },
        "mapboxStyle": {
          "type": {
            "enumeration": []
          }
        },
        "declutterLabels": {
          "type": {
            "bool": true
          }
        },
        "maptilerApiKey":{
          "type": {
            "text": true
          }
        },
        "maptilerStyle":{
          "type": { 
            "enumeration": []
          }
        }
      }
    },
    "proportionalCirclesVisualCardSettings": {
      "properties": {
        "showLayerControl": {
          "type": {
            "bool": true
          }
        },
        "proportionalCircles1Color": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "proportionalCircles2Color": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "proportionalCirclesMinimumRadius": {
          "type": {
            "numeric": true
          }
        },
        "proportionalCirclesMaximumRadius": {
          "type": {
            "numeric": true
          }
        },
        "proportionalCirclesStrokeColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "proportionalCirclesStrokeWidth": {
          "type": {
            "numeric": true
          }
        },
        "proportionalCircles1LayerOpacity": {
          "type": {
            "numeric": true
          }
        },
        "proportionalCircles2LayerOpacity": {
          "type": {
            "numeric": true
          }
        },
        "showLegend": {
          "type": {
            "bool": true
          }
        },
        "legendTitle": {
          "type": {
            "text": true
          }
        },
        "legendTitleColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "leaderLineStrokeWidth": {
          "type": {
            "numeric": true
          }
        },
        "leaderLineColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "labelTextColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        }
      }
    },
    "choroplethVisualCardSettings": {
      "properties": {
        "showLayerControl": {
          "type": {
            "bool": true
          }
        },
        "locationPcodeNameId": {
          "type": {
            "text": true
          }
        },
        "topoJSON_geoJSON_FileUrl": {
          "type": {
            "text": true
          }
        },
        "classifyData": {
          "type": {
            "bool": true
          }
        },
        "numClasses": {
          "type": {
            "numeric": true
          }
        },
        "classificationMethod": {
          "type": {
            "enumeration": []
          }
        },
        "usePredefinedColorRamp": {
          "type": {
            "bool": true
          }
        },
        "colorRamp": {
          "type": {
            "enumeration": []
          }
        },
        "invertColorRamp": {
          "type": {
            "bool": true
          }
        },
        "minColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "midColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "maxColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "strokeColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "strokeWidth": {
          "type": {
            "numeric": true
          }
        },
        "layerOpacity": {
          "type": {
            "numeric": true
          }
        },
        "showLegend": {
          "type": {
            "bool": true
          }
        },
        "legendTitle": {
          "type": {
            "text": true
          }
        },
        "legendTitleAlignment": {
          "type": {
            "enumeration": []
          }
        },
        "legendTitleColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "legendLabelsColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "legendLabelPosition": {
          "type": {
            "enumeration": []
          }
        },
        "legendOrientation": {
          "type": {
            "enumeration": []
          }
        }
      }
    },
    "mapToolsVisualCardSettings": {
      "properties": {
        "lockMapExtent": {
          "type": {
            "bool": true
          }
        },
        "showZoomControl": {
          "type": {
            "bool": true
          }
        },
        "lockedExtent": {
          "type": { "text": true }
        },
        "lockedZoom": {
          "type": { "numeric": true }
        },
        "legendPosition": {
          "type": {
            "enumeration": []
          }
        },
        "legendBorderWidth": {
          "type": {
            "numeric": true
          }
        },
        "legendBorderRadius": {
          "type": {
            "numeric": true
          }
        },
        "legendBorderColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "legendBackgroundColor": {
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "legendBackgroundOpacity": {
          "type": {
            "numeric": true
          }
        },
        "legendBottomMargin": {
          "type": {
            "numeric": true
          }
        }
      }
    }
  },
  "suppressDefaultTitle": false,
  "tooltips": {
    "supportedTypes": {
      "default": true,
      "canvas": true,
      "reportPage": true
    },
    "roles": [
      "Tooltips"
    ],
    "supportEnhancedTooltips": true
  },
  "supportsLandingPage": false,
  "privileges": [
    {
      "name": "WebAccess",
      "essential": true,
      "parameters": [
        "https://*.openstreetmap.org",
        "https://*.arcgisonline.com",
        "https://*.arcgis.com",
        "https://*.mapbox.com",
        "https://api.maptiler.com",
        "https://*.humdata.org",
        "https://*.itos.uga.edu",
        "https://*.githubusercontent.com",
        "https://*.googleapis.com",
        "https://*.amazonaws.com",
        "https://*.blob.core.windows.net",
        "https://*.github.io",
        "https://*.cloudfront.net",
        "https://*.r2.dev"
      ]
    },
    {
      "name": "LocalStorage",
      "essential": true
    }
  ]
}